# HighLoad

The project was developed as part of the Technopark's high-load systems course.

### Тема проекта:

Социальная сеть - TikTok.

### Целевая аудитория сервиса:

- 600 млн пользователей в Индии, США, Турции, России и других странах.
- Российская аудитория ~ 18 млн

### MVP проекта:

1. Авторизация, регистрация, профиль пользователя;
2. Лента рекоммендаций;
3. Поиск.

### Расчет нагрузки (Россия):

#### Исходные данные:

- Среднее время, которое проводит пользователь в приложении за день: 45 мин;
    - 80%: просмотр видео,
    - 15% поиск в рекоммендациях,
    - 5% другое.
- Среднее число заходов в приложение за день: 7;
- Максимальная длина ролика: 1 минута;
- Минимальная длина ролика: 15 секунд;
- Максимальный размер видео: 75Mb (android), 250Mb (ios);
- Число ежедневных просмотров видео: 533 млн;
- Число ежедневных размещений видео: 666 тыс;

#### Расчеты:

- Средний объем трафика: 7.5 Mb/min
    - 6 Mb: загрузка видео-контента
    - 1.2 Mb: поиск в рекоммендациях (анимации вместо видео)
    - 0.3 Mb: другие операции
- Запросы на выгрузку видео-контента на сервер: ((75+250)/2)/2 = 81 Mb;

Будем считать, что пиковое число обращений к серверу за 1 секунду будет равно 50% от общего количества пользователей. А
число пользователей, загружающих в эту секунду видео - 0.1% от текущих. Скорость загрузки в среднем составляет 6 сек.

`Результирующие порядки RPS для проектируемого сервиса:`

- 9 * 10^4 RPS (на запись)
- 9 * 10^6 RPS (на чтение)

`Общий объем трафика за 1 секунду для:`

- Просмотра видео-контента: (6 Mb * 9 * 10 ^ 6) / 60  ~ **0.9 Tb**
- Выгрузки на сервер видео-контента: (81 Mb * 9 * 10 ^ 3) / 6  ~ **0.12 Tb**
- Поиск в рекоммедациях: (1.2 Mb * 9 * 10 ^ 6) / 60 ~ **0.18 Tb**
- Другие операции: (0.3 Mb * 9 * 10 ^ 6) / 60 ~ **0.04 Tb**


### Литература

https://maski-instagrama.ru/tiktok/statistika-akkaunta-v-tik-tok-scetcik-posledovatelej-analitika
https://news.cpa.ru/tiktok-showed-audience-statistics/